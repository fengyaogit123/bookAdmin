webpackJsonp([15],{"1pu+":function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=t("Xxa5"),r=t.n(s),n=t("exGp"),o=t.n(n),i=t("Dd8w"),l=t.n(i),m=t("0jG4"),c={props:{modal:Object},watch:{"modal.show":{handler:function(){if(this.modal.show&&this.modal.row)return this.modal.row.isAdmin=this.modal.row.isAdmin+"",this.params=l()({},this.params,this.modal.row);this.modal.row=null},immediate:!0}},data:function(){return{params:this.initData(),rules:{name:{type:"string",required:!0,message:"必填项"}}}},methods:{initData:function(){return{_id:void 0,userName:"",password:"",sex:"男",name:"",isAdmin:"false"}},modalOk:function(){var a=this;return o()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.$refs.form.validate();case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:if(a.params._id){e.next=10;break}return e.next=8,a.create();case 8:e.next=12;break;case 10:return e.next=12,a.update();case 12:a.$Message.success("提交成功！"),a.initModal("ok");case 14:case"end":return e.stop()}},e,a)}))()},create:function(){var a=this;return o()(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.e.create(a.$QS.stringify(a.params));case 2:t=e.sent,t.data;case 4:case"end":return e.stop()}},e,a)}))()},update:function(){var a=this;return o()(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.e.update(a.$QS.stringify(a.params));case 2:t=e.sent,t.data;case 4:case"end":return e.stop()}},e,a)}))()},cancel:function(){this.initModal("cancel")},initModal:function(a){this.params=this.initData(),this.modal.show=!1,this.$refs.form.resetFields(),this.$emit(a)}}},p={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("Modal",{attrs:{width:"500",title:this.params._id?"编辑":"新增"},on:{"on-ok":a.modalOk,"on-cancel":a.cancel},model:{value:a.modal.show,callback:function(e){a.$set(a.modal,"show",e)},expression:"modal.show"}},[t("div",{staticClass:"modal-form"},[t("Form",{ref:"form",attrs:{model:a.params,rules:a.rules,labelWidth:80}},[t("FormItem",{attrs:{label:"姓名",prop:"name"}},[t("Input",{attrs:{placeholder:"请输入姓名"},model:{value:a.params.name,callback:function(e){a.$set(a.params,"name",e)},expression:"params.name"}})],1),a._v(" "),t("FormItem",{attrs:{label:"性别",prop:"sex"}},[t("RadioGroup",{model:{value:a.params.sex,callback:function(e){a.$set(a.params,"sex",e)},expression:"params.sex"}},[t("Radio",{attrs:{label:"男"}},[t("span",[a._v("男")])]),a._v(" "),t("Radio",{attrs:{label:"女"}},[t("span",[a._v("女")])])],1)],1),a._v(" "),t("FormItem",{attrs:{label:"管理员",prop:"isAdmin"}},[t("RadioGroup",{model:{value:a.params.isAdmin,callback:function(e){a.$set(a.params,"isAdmin",e)},expression:"params.isAdmin"}},[t("Radio",{attrs:{label:"true"}},[t("span",[a._v("是")])]),a._v(" "),t("Radio",{attrs:{label:"false"}},[t("span",[a._v("否")])])],1)],1),a._v(" "),t("FormItem",{attrs:{label:"账号",prop:"userName"}},[t("Input",{attrs:{placeholder:"请输入账号"},model:{value:a.params.userName,callback:function(e){a.$set(a.params,"userName",e)},expression:"params.userName"}})],1),a._v(" "),t("FormItem",{attrs:{label:"密码",prop:"password"}},[t("Input",{attrs:{placeholder:"请输入密码"},model:{value:a.params.password,callback:function(e){a.$set(a.params,"password",e)},expression:"params.password"}})],1)],1)],1),a._v(" "),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("Button",{attrs:{type:"primary"},on:{click:a.modalOk}},[a._v("确定")]),a._v(" "),t("Button",{attrs:{type:"ghost"},on:{click:a.cancel}},[a._v("取消")])],1)])},staticRenderFns:[]},u=t("VU/8")(c,p,!1,null,null,null);e.default=u.exports}});